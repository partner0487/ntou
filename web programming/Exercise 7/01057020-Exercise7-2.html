<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>Doraemon</title>
    <style type="text/css">
        @import url(https://fonts.googleapis.com/earlyaccess/notosanstc.css);

        img {
            width: 300px;
            height: 300px;
        }

		div, input {
            font-family: Noto Sans TC, Perpetua, serif;
			width: 300px;            
        }
		
		div {
            color: darkblue;
            text-align: center;	
			font-size: 24px;			
        }

		input {
			font-size: 18px;
			font-weight: bold;
		}
    </style>
    <script>
        // TODO
        const gadgetString = "任意門 時光機 竹蜻蜓 時光布 記憶麵包 縮小燈 翻譯蒟蒻 如果電話亭 穿透環 更衣照相機";
        const Array = gadgetString.split(" ");
        var Img = ["01.png", "02.png", "03.png", "04.png", "05.png", "06.png", "07.png", "08.png", "09.png", "10.png"];
        function choose(){
            var Audio = document.getElementById("Audio");
            Audio.innerHTML = "<audio id='audio' constrols autoplay><source src='doraemon.mp3' type='audio/mpeg'>" + 
                                "<source src='doraemon.ogg' type='audio/ogg'></audio>";
            var msg = document.getElementById("messages");
            var img = document.getElementById("gadget");
            img.src = "blank.png";
            
            var audio = document.getElementById("audio");
            audio.onended = (event) => {
                // console.log("hello");
                var now = Math.floor(Math.random() * 10);
                img.src = Img[now];
                msg.innerHTML = "您抽到" + Array[now];
            };
        }
    </script>
</head>

<body>
    <img id="gadget" src="00.png" alt="gadget">
    <div id="Audio"></div>
    <form action="#">
        <input id="play" type="button" value="抽道具" onclick="choose()">
    </form>
    <div id="messages">請按下Button抽出道具</div>
</body>

</html>